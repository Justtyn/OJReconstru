# 项目迭代路线图

> 管理端已基本成型，以下按阶段细化至上线目标；每个阶段完成后同步更新 dev-log 与实际进度。

## 留痕记录
- 2025-12-11：修复管理端菜单选中逻辑，题解/讨论/提交记录正确高亮；更新 AGENTS.md 补充中文对话与留痕要求。
- 2025-12-11：提交记录页新增“新增提交”弹窗与代码编辑器，支持行号/高亮、单选班级与学生并调用提交接口。
- 2025-12-11：提交新增支持按题目或班级-作业两条通路；代码编辑器左距收紧并支持只读；详情页复用编辑器并增加复制按钮。
- 2025-12-11：修复代码编辑器重影问题（文本隐藏由高亮层渲染），滚动条适配深色；提交记录/详情页同步效果。
- 2025-12-11：移除代码编辑器首行空白/重影偏移，改为紧凑模板并与换行对齐。
- 2025-12-11：提交记录查询参数对齐接口（studentId/statusId），新增提交按钮合并至查询区。
- 2025-12-11：管理端仪表盘上线统计卡片、近期提交列表与快捷入口，接入多模块数据并适配深浅色。
- 2025-12-11：仪表盘移除“待办与提示”模块，保持简洁。

## 近期（本周内）
- [ ] 完善用户/班级/题库管理页：对齐字段校验、分页筛选、空态/加载态、深浅色适配。
- [X] 教师职称枚举：前端下拉改为固定枚举（助教/讲师/副教授/教授等），与后端字段保持一致。
- [X] 学生管理详情扩展：增加学校/年级/联系方式/注册时间/最近登录等信息展示。
- [ ] 班级信息增强：列表显示创建者；详情二级展示当前学生列表，支持多选下拉添加/移除学生。
- [ ] 作业题目多选：作业创建/编辑时可检索所有题目并多选；编辑时预加载已包含题目，避免重复选择。

## 下阶段（下周内）
- [ ] 业务统计图表：对接接口绘制登录/活跃/提交/通过率等图表，支持时间范围切换，兼容深浅色。
- [ ] 邮件 HTML 样式优化：统一品牌色、排版、按钮与响应式；支持暗色预览。
- [ ] 验证码体系：新增本地数字+字母混合验证码或邮件验证码组件；补充“重发验证码”按钮及冷却计时。
- [ ] 管理端导航：教师角色动态展示可见的管理菜单（隐藏管理员专属项），路由守卫保持一致。

## 中期（2-4 周）
- [ ] 客户端启动：搭建客户端首页、题库/讨论/公告/作业等核心页面，沿用主题与鉴权逻辑。
- [ ] 题库/作业深度体验：题目详情 Markdown/代码高亮、标签过滤、作业倒计时与提交历史展示。
- [ ] 通知与消息中心：站内信/系统通知列表、已读状态、与邮件通知的联动设置。
- [ ] 权限与审计：操作日志覆盖关键管理动作，增加导出/筛选；补充异常态与重试。

## 后期（上线前）
- [ ] 性能与可用性：拆分路由懒加载、组件按需引入、骨架屏/占位符、移动端适配。
- [ ] 安全与配置：环境变量梳理、token 清理与过期处理、敏感操作二次确认。
- [ ] 可观测性：全局错误捕获、前端埋点与慢接口告警预留。
- [ ] 发布清单：回归测试手册、已知问题列表、Changelog/Release Note 编写。
